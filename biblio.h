#ifndef BIBLIO_H
#define BIBLIO_H

#include <iostream>
#include <string>
using namespace std;

const int maxlivres = 100;
const int maxnotes = 10;

struct t_date {
	int jj;
	int mm;
	int aa;
};

struct t_auteur {
	//int id;
	string nom;
	bool mort;
	string prenom;
	string nationalite;
	t_date datedenaissance;
	t_date datedemort;
};

struct t_livre {
	string titre;
	t_auteur id;
	string style;
	int pages;
	string editeurlivre;
	t_date datedeparution;
	string etat;
	int tabnote[maxnotes];
	int note;
};


struct t_biblio {
	int nbauteur;
	int nbelem;
	t_livre listelivres[maxlivres];
	t_auteur listeauteurs[maxlivres];
};

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant l'affichage d'un menu.
//Entre : Intervalle et information du menu
//Sortie : Choix de sortie
/////////////////////////////////////////////////////////////////////////////////////////
void menu(int minchoix, int maxchoix, string menu, int& choix);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant d'afficher les informations liées au livre.
//Entre : monlivre qui comporte toutes les informations
//Sortie : RIEN
/////////////////////////////////////////////////////////////////////////////////////////
void affichelivre(t_livre monlivre);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant d'afficher les livres liées a une recherche.
//Entre : mabib 
//Sortie : Rien
/////////////////////////////////////////////////////////////////////////////////////////
void affichelivres(t_biblio mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant de rechercher les livres d'un auteur.
//Entre : mabib 
//Sortie : monlivre
/////////////////////////////////////////////////////////////////////////////////////////
void affichelivresauteur(t_biblio mabib, t_livre monlivre);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant l'ajout de livre dans la biblioteque.
//Entre : mabib
//Sortie : mabib 
/////////////////////////////////////////////////////////////////////////////////////////
void ajoutelivre(t_biblio& mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant l'ajout d'auteur dans la biblioteque.
//Entre : mabib
//Sortie : mabib
/////////////////////////////////////////////////////////////////////////////////////////
void ajouteauteur(t_biblio& mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Fonction permettant de rechercher un livre par son titre.
//Entre : mabib et titre
//Sortie : Rien
/////////////////////////////////////////////////////////////////////////////////////////
int recherchelivre(t_biblio mabib, string titre);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure de suppression de livre de la biblioteque
//Entre : mabib
//Sortie : mabib
/////////////////////////////////////////////////////////////////////////////////////////
void supprlivre(t_biblio& mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant d'afficher les resultats d'une recherche
//Entre : mabib
//Sortie : mabib
/////////////////////////////////////////////////////////////////////////////////////////
void recherche(t_biblio mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant de changer l'etat du livre en emprunté.
//Entre : mabib
//Sortie : mabib
/////////////////////////////////////////////////////////////////////////////////////////
void emprunterlivre(t_biblio& mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant de changer l'etat du livre en rendu.
//Entre : mabib
//Sortie : mabib
/////////////////////////////////////////////////////////////////////////////////////////
void rendrelivre(t_biblio& mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant d'afficher les auteurs d'une recherche.
//Entre : monauteur
//Sortie : rien
/////////////////////////////////////////////////////////////////////////////////////////
void afficheauteur(t_auteur monauteur);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant d'afficher tout les auteurs de la biblioteque.
//Entre : mabib
//Sortie : rien
/////////////////////////////////////////////////////////////////////////////////////////
void afficheauteurs(t_biblio mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant de noter les livres de la biblioteque.
//Entre : mabib et nbnote
//Sortie : mabib et nbnote
/////////////////////////////////////////////////////////////////////////////////////////
void notelivre(t_biblio& mabib, int& nbnote);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant le deplacement du curseur.
//Entre : x et y
//Sortie : rien
/////////////////////////////////////////////////////////////////////////////////////////
void locate(int x, int y);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant d'afficher des suggestions par genre dans le resultat des recherches.
//Entre : i
//Sortie : rien
/////////////////////////////////////////////////////////////////////////////////////////
void suggestion(t_biblio, int i);

//////////////////////////////////////////////////////////////////////////////////////////
//Procedure permettant de faire la sauvegarde de la base de données de la biblioteque.
//Entre : mabib
//Sortie : mabib
/////////////////////////////////////////////////////////////////////////////////////////
//void sauvegarde(t_biblio& mabib);

//////////////////////////////////////////////////////////////////////////////////////////
//Fonction de verification de la date.
//Entre : jour, mois et année
//Sortie : valide
/////////////////////////////////////////////////////////////////////////////////////////
bool VerifDate(int jour, int mois, int annee, bool valide);

#endif
